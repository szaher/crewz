(()=>{var e={};e.id=718,e.ids=[718],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},782:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(482),a=r(9108),l=r(2563),o=r.n(l),n=r(8300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let d=["",{children:["agents",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7488)),"/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/agents/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8853)),"/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/agents/page.tsx"],m="/agents/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/agents/page",pathname:"/agents",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4042:(e,t,r)=>{Promise.resolve().then(r.bind(r,514))},514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(2295),a=r(3729),l=r(2254),o=r(4418),n=r(8955),i=r(5945),d=r(6224);function c(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),n=(0,a.useCallback)(async()=>{s(!0),o(null);try{let e=await d.x.get("/api/v1/agents");if(e.error)throw Error(e.error);t(e.data?.agents||[])}catch(e){o(e instanceof Error?e.message:"Failed to fetch agents"),console.error("Failed to fetch agents:",e)}finally{s(!1)}},[]),i=async e=>{let r=await d.x.post("/api/v1/agents",e);if(r.error)throw Error(r.error);let s=r.data;return t(e=>[...e,s]),s},c=async(e,r)=>{let s=await d.x.put(`/api/v1/agents/${e}`,r);if(s.error)throw Error(s.error);let a=s.data;return t(t=>t.map(t=>t.id===e?a:t)),a},m=async e=>{let r=await d.x.delete(`/api/v1/agents/${e}`);if(r.error)throw Error(r.error);t(t=>t.filter(t=>t.id!==e))},x=async e=>{let t=await d.x.get(`/api/v1/agents/${e}`);if(t.error)throw Error(t.error);return t.data};return(0,a.useEffect)(()=>{n()},[n]),{agents:e,loading:r,error:l,createAgent:i,updateAgent:c,deleteAgent:m,getAgent:x,refetch:n}}var m=r(7464);function x({agentId:e,onSave:t,onCancel:r}){let{agents:l,createAgent:o,updateAgent:n}=c(),{tools:i}=(0,m.nL)(),d=e?l.find(t=>t.id===e):null,[x,u]=(0,a.useState)({name:d?.name||"",role:d?.role||"",goal:d?.goal||"",backstory:d?.backstory||"",llm_config:d?.llm_config||{provider:"openai",model:"gpt-4",temperature:.7,max_tokens:2e3},tools:d?.tools||[],allow_delegation:d?.allow_delegation??!0,verbose:d?.verbose??!1}),[g,b]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),f=(e,t)=>{u({...x,llm_config:{...x.llm_config,[e]:t}})},y=e=>{let t=x.tools?.includes(e)?x.tools.filter(t=>t!==e):[...x.tools||[],e];u({...x,tools:t})},v=async r=>{r.preventDefault(),h(null),b(!0);try{if(e){let r=await n(e,x);t?.(r.id)}else{let e=await o(x);t?.(e.id)}}catch(e){h(e instanceof Error?e.message:"Failed to save agent")}finally{b(!1)}};return(0,s.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agent Details"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Agent Name"}),s.jsx("input",{id:"name",type:"text",required:!0,value:x.name,onChange:e=>u({...x,name:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"e.g., Research Analyst"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsx("input",{id:"role",type:"text",required:!0,value:x.role,onChange:e=>u({...x,role:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"e.g., Senior Research Analyst"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"goal",className:"block text-sm font-medium text-gray-700",children:"Goal"}),s.jsx("textarea",{id:"goal",required:!0,rows:2,value:x.goal,onChange:e=>u({...x,goal:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"What is this agent's primary objective?"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"backstory",className:"block text-sm font-medium text-gray-700",children:"Backstory"}),s.jsx("textarea",{id:"backstory",required:!0,rows:3,value:x.backstory,onChange:e=>u({...x,backstory:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"Provide context and personality for the agent"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"LLM Configuration"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"provider",className:"block text-sm font-medium text-gray-700",children:"Provider"}),(0,s.jsxs)("select",{id:"provider",value:x.llm_config.provider,onChange:e=>f("provider",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[s.jsx("option",{value:"openai",children:"OpenAI"}),s.jsx("option",{value:"anthropic",children:"Anthropic"}),s.jsx("option",{value:"ollama",children:"Ollama (Local)"}),s.jsx("option",{value:"vllm",children:"vLLM"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700",children:"Model"}),s.jsx("input",{id:"model",type:"text",value:x.llm_config.model,onChange:e=>f("model",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"e.g., gpt-4"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"temperature",className:"block text-sm font-medium text-gray-700",children:["Temperature (",x.llm_config.temperature,")"]}),s.jsx("input",{id:"temperature",type:"range",min:"0",max:"2",step:"0.1",value:x.llm_config.temperature,onChange:e=>f("temperature",parseFloat(e.target.value)),className:"mt-1 block w-full"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"max_tokens",className:"block text-sm font-medium text-gray-700",children:"Max Tokens"}),s.jsx("input",{id:"max_tokens",type:"number",value:x.llm_config.max_tokens,onChange:e=>f("max_tokens",parseInt(e.target.value)),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Tools (",x.tools?.length||0," selected)"]}),0===i.length?s.jsx("p",{className:"text-sm text-gray-500",children:"No tools available"}):s.jsx("div",{className:"space-y-2",children:i.map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:x.tools?.includes(e.id),onChange:()=>y(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]},e.id))})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:x.allow_delegation,onChange:e=>u({...x,allow_delegation:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Allow delegation"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:x.verbose,onChange:e=>u({...x,verbose:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Verbose logging"})]})]})}),p&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:p})}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":e?"Update Agent":"Create Agent"})]})]})}function u(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),{agents:r,loading:d,error:m,refetch:u}=c(),[g,b]=(0,a.useState)(!1),[p,h]=(0,a.useState)(),f=t?.get("llm_provider_id"),y=()=>{u()};(0,a.useEffect)(()=>{},[f]);let v=()=>{h(void 0),b(!0)},j=e=>{h(e),b(!0)};return g?s.jsx(o.Z,{children:(0,s.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx(n.Z,{}),s.jsx("div",{className:"flex-1 overflow-auto",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(i.Z,{})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:p?"Edit Agent":"Create New Agent"}),s.jsx(x,{agentId:p,onSave:()=>{b(!1),y()},onCancel:()=>b(!1)})]})})]})}):s.jsx(o.Z,{children:(0,s.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx(n.Z,{}),s.jsx("div",{className:"flex-1 overflow-auto",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx(i.Z,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Agents"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Create Agent"})})]}),f&&(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active filter:"}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 text-xs bg-blue-50 text-blue-700 border border-blue-200 px-2 py-1 rounded",children:["Agents \xb7 provider #",f,s.jsx("button",{onClick:()=>{e.push("/agents")},className:"ml-1 text-blue-700 hover:text-blue-900","aria-label":"Clear filter",title:"Clear filter",children:"âœ•"})]})]}),m?s.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[(0,s.jsxs)("p",{className:"text-red-600 mb-4",children:["Failed to load agents: ",m]}),s.jsx("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Retry"})]})}):d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):0===r.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No agents yet. Create your first agent to get started."}),s.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Create Agent"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(f?r.filter(e=>e.llm_provider_id===Number(f)):r).map(e=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 hover:shadow-lg transition-shadow",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.role}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 line-clamp-2",children:e.goal}),s.jsx("div",{className:"mt-4 flex items-center gap-2",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-800",children:"Active"})}),s.jsx("button",{onClick:()=>j(e.id),className:"mt-4 w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100",children:"Edit Agent"})]},e.id))})]})})]})})}},7488:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/agents/page.tsx`),{__esModule:a,$$typeof:l}=s,o=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[572,774,297,12],()=>r(782));module.exports=s})();