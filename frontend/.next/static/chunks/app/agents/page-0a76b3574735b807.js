(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{9395:function(e,t,l){Promise.resolve().then(l.bind(l,8180))},8180:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return x}});var r=l(7437),a=l(2265),s=l(4033),o=l(9755),n=l(8563),i=l(9222),d=l(6312);function c(){let[e,t]=(0,a.useState)([]),[l,r]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),n=(0,a.useCallback)(async()=>{r(!0),o(null);try{var e;let l=await d.x.get("/api/v1/agents");if(l.error)throw Error(l.error);t((null===(e=l.data)||void 0===e?void 0:e.agents)||[])}catch(e){o(e instanceof Error?e.message:"Failed to fetch agents"),console.error("Failed to fetch agents:",e)}finally{r(!1)}},[]),i=async e=>{let l=await d.x.post("/api/v1/agents",e);if(l.error)throw Error(l.error);let r=l.data;return t(e=>[...e,r]),r},c=async(e,l)=>{let r=await d.x.put("/api/v1/agents/".concat(e),l);if(r.error)throw Error(r.error);let a=r.data;return t(t=>t.map(t=>t.id===e?a:t)),a},u=async e=>{let l=await d.x.delete("/api/v1/agents/".concat(e));if(l.error)throw Error(l.error);t(t=>t.filter(t=>t.id!==e))},m=async e=>{let t=await d.x.get("/api/v1/agents/".concat(e));if(t.error)throw Error(t.error);return t.data};return(0,a.useEffect)(()=>{n()},[n]),{agents:e,loading:l,error:s,createAgent:i,updateAgent:c,deleteAgent:u,getAgent:m,refetch:n}}var u=l(8541);function m(e){var t,l,s;let{agentId:o,onSave:n,onCancel:i}=e,{agents:d,createAgent:m,updateAgent:x}=c(),{tools:g}=(0,u.nL)(),h=o?d.find(e=>e.id===o):null,[b,p]=(0,a.useState)({name:(null==h?void 0:h.name)||"",role:(null==h?void 0:h.role)||"",goal:(null==h?void 0:h.goal)||"",backstory:(null==h?void 0:h.backstory)||"",llm_config:(null==h?void 0:h.llm_config)||{provider:"openai",model:"gpt-4",temperature:.7,max_tokens:2e3},tools:(null==h?void 0:h.tools)||[],allow_delegation:null===(l=null==h?void 0:h.allow_delegation)||void 0===l||l,verbose:null!==(s=null==h?void 0:h.verbose)&&void 0!==s&&s}),[f,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),N=(e,t)=>{p({...b,llm_config:{...b.llm_config,[e]:t}})},k=e=>{var t;let l=(null===(t=b.tools)||void 0===t?void 0:t.includes(e))?b.tools.filter(t=>t!==e):[...b.tools||[],e];p({...b,tools:l})},w=async e=>{e.preventDefault(),j(null),v(!0);try{if(o){let e=await x(o,b);null==n||n(e.id)}else{let e=await m(b);null==n||n(e.id)}}catch(e){j(e instanceof Error?e.message:"Failed to save agent")}finally{v(!1)}};return(0,r.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agent Details"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Agent Name"}),(0,r.jsx)("input",{id:"name",type:"text",required:!0,value:b.name,onChange:e=>p({...b,name:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"e.g., Research Analyst"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,r.jsx)("input",{id:"role",type:"text",required:!0,value:b.role,onChange:e=>p({...b,role:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"e.g., Senior Research Analyst"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"goal",className:"block text-sm font-medium text-gray-700",children:"Goal"}),(0,r.jsx)("textarea",{id:"goal",required:!0,rows:2,value:b.goal,onChange:e=>p({...b,goal:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"What is this agent's primary objective?"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"backstory",className:"block text-sm font-medium text-gray-700",children:"Backstory"}),(0,r.jsx)("textarea",{id:"backstory",required:!0,rows:3,value:b.backstory,onChange:e=>p({...b,backstory:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"Provide context and personality for the agent"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"LLM Configuration"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"provider",className:"block text-sm font-medium text-gray-700",children:"Provider"}),(0,r.jsxs)("select",{id:"provider",value:b.llm_config.provider,onChange:e=>N("provider",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"openai",children:"OpenAI"}),(0,r.jsx)("option",{value:"anthropic",children:"Anthropic"}),(0,r.jsx)("option",{value:"ollama",children:"Ollama (Local)"}),(0,r.jsx)("option",{value:"vllm",children:"vLLM"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700",children:"Model"}),(0,r.jsx)("input",{id:"model",type:"text",value:b.llm_config.model,onChange:e=>N("model",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"e.g., gpt-4"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"temperature",className:"block text-sm font-medium text-gray-700",children:["Temperature (",b.llm_config.temperature,")"]}),(0,r.jsx)("input",{id:"temperature",type:"range",min:"0",max:"2",step:"0.1",value:b.llm_config.temperature,onChange:e=>N("temperature",parseFloat(e.target.value)),className:"mt-1 block w-full"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"max_tokens",className:"block text-sm font-medium text-gray-700",children:"Max Tokens"}),(0,r.jsx)("input",{id:"max_tokens",type:"number",value:b.llm_config.max_tokens,onChange:e=>N("max_tokens",parseInt(e.target.value)),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Tools (",(null===(t=b.tools)||void 0===t?void 0:t.length)||0," selected)"]}),0===g.length?(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No tools available"}):(0,r.jsx)("div",{className:"space-y-2",children:g.map(e=>{var t;return(0,r.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:null===(t=b.tools)||void 0===t?void 0:t.includes(e.id),onChange:()=>k(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]},e.id)})})]}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:b.allow_delegation,onChange:e=>p({...b,allow_delegation:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Allow delegation"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:b.verbose,onChange:e=>p({...b,verbose:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Verbose logging"})]})]})}),y&&(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:y})}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Saving...":o?"Update Agent":"Create Agent"})]})]})}function x(){let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),{agents:l,loading:d,error:u,refetch:x}=c(),[g,h]=(0,a.useState)(!1),[b,p]=(0,a.useState)(),f=null==t?void 0:t.get("llm_provider_id"),v=()=>{x()};(0,a.useEffect)(()=>{},[f]);let y=()=>{p(void 0),h(!0)},j=e=>{p(e),h(!0)};return g?(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)(n.Z,{}),(0,r.jsx)("div",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(i.Z,{})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:b?"Edit Agent":"Create New Agent"}),(0,r.jsx)(m,{agentId:b,onSave:()=>{h(!1),v()},onCancel:()=>h(!1)})]})})]})}):(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)(n.Z,{}),(0,r.jsx)("div",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,r.jsx)(i.Z,{}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Agents"}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Create Agent"})})]}),f&&(0,r.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Active filter:"}),(0,r.jsxs)("span",{className:"inline-flex items-center gap-2 text-xs bg-blue-50 text-blue-700 border border-blue-200 px-2 py-1 rounded",children:["Agents \xb7 provider #",f,(0,r.jsx)("button",{onClick:()=>{e.push("/agents")},className:"ml-1 text-blue-700 hover:text-blue-900","aria-label":"Clear filter",title:"Clear filter",children:"✕"})]})]}),u?(0,r.jsx)("div",{className:"flex flex-col items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"text-center max-w-md",children:[(0,r.jsxs)("p",{className:"text-red-600 mb-4",children:["Failed to load agents: ",u]}),(0,r.jsx)("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Retry"})]})}):d?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):0===l.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"No agents yet. Create your first agent to get started."}),(0,r.jsx)("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Create Agent"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(f?l.filter(e=>e.llm_provider_id===Number(f)):l).map(e=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 hover:shadow-lg transition-shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.role}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2 line-clamp-2",children:e.goal}),(0,r.jsx)("div",{className:"mt-4 flex items-center gap-2",children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-800",children:"Active"})}),(0,r.jsx)("button",{onClick:()=>j(e.id),className:"mt-4 w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100",children:"Edit Agent"})]},e.id))})]})})]})})}},9222:function(e,t,l){"use strict";l.d(t,{Z:function(){return d}});var r=l(7437),a=l(1396),s=l.n(a),o=l(4033),n=l(2265);let i={"/dashboard":"Dashboard","/flows":"Flows","/crews":"Crews","/agents":"Agents","/tools":"Tools","/observability":"Observability","/chat":"Chat","/executions":"Executions","/settings":"Settings","/profile":"Profile"};function d(){let{breadcrumbs:e}=function(){let e=(0,o.usePathname)(),t=(0,n.useMemo)(()=>{if(!e)return[];let t=e.split("/").filter(Boolean),l=[];l.push({label:"Home",href:"/dashboard",isActive:"/dashboard"===e});let r="";return t.forEach((e,a)=>{r+="/".concat(e);let s=a===t.length-1;if(!isNaN(Number(e)))return;if("edit"===e){l.push({label:"Edit",href:r,isActive:s});return}let o=i[r]||e.charAt(0).toUpperCase()+e.slice(1);l.push({label:o,href:r,isActive:s})}),l},[e]),l=(0,n.useMemo)(()=>{if(!e)return"Home";let l=t[t.length-1];return(null==l?void 0:l.label)||"Home"},[e,t]);return{breadcrumbs:t,currentPage:l,pathname:e,isActive:t=>null==e?void 0:e.startsWith(t)}}();return e.length<=1?null:(0,r.jsx)("nav",{"aria-label":"Breadcrumb",className:"mb-4",children:(0,r.jsx)("ol",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:e.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center",children:[t>0&&(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mx-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.isActive?(0,r.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium","aria-current":"page",children:e.label}):(0,r.jsx)(s(),{href:e.href,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:e.label})]},e.href))})})}},1396:function(e,t,l){e.exports=l(5250)}},function(e){e.O(0,[311,279,67,971,458,744],function(){return e(e.s=9395)}),_N_E=e.O()}]);