(()=>{var e={};e.id=150,e.ids=[150],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6528:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=s(482),r=s(9108),l=s(2563),i=s.n(l),n=s(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["providers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3399)),"/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/providers/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8853)),"/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/providers/page.tsx"],x="/providers/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/providers/page",pathname:"/providers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9730:(e,t,s)=>{Promise.resolve().then(s.bind(s,1813))},1813:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(2295),r=s(3729);s(1202);var l=s(4418),i=s(8955),n=s(5945),d=s(6224);function c(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null),n=(0,r.useCallback)(async()=>{a(!0),i(null);try{let e=await d.x.get("/api/v1/llm-providers");if(e.error)throw Error(e.error);t(e.data?.providers||[])}catch(e){i(e instanceof Error?e.message:"Failed to fetch LLM providers"),console.error("Failed to fetch LLM providers:",e)}finally{a(!1)}},[]),c=async e=>{let s=await d.x.post("/api/v1/llm-providers",e);if(s.error)throw Error(s.error);let a=s.data?.provider||s.data;return t(e=>[...e,a]),a},o=async(e,s)=>{let a=await d.x.put(`/api/v1/llm-providers/${e}`,s);if(a.error)throw Error(a.error);let r=a.data?.provider||a.data;return t(t=>t.map(t=>t.id===e?r:t)),r},x=async e=>{let s=await d.x.delete(`/api/v1/llm-providers/${e}`);if(s.error){let e=Error(s.error);throw e.status=s.status,e}t(t=>t.filter(t=>t.id!==e))},u=async e=>{let t=await d.x.get(`/api/v1/llm-providers/${e}`);if(t.error)throw Error(t.error);return t.data?.provider||t.data},p=async e=>{let t=await d.x.post(`/api/v1/llm-providers/${e}/test`,{});if(t.error)throw Error(t.error);return t.data},m=async e=>{let t=await d.x.post(`/api/v1/llm-providers/${e}/set-default`,{});if(t.error)throw Error(t.error);let s=t.data?.provider||t.data;return await n(),s},h=async(e,t,s="all")=>{let a=await d.x.post(`/api/v1/llm-providers/${e}/reassign`,{target_provider_id:t,scope:s});if(a.error)throw Error(a.error);return await n(),{agents_reassigned:a.data?.agents_reassigned??0,crews_reassigned:a.data?.crews_reassigned??0}};return(0,r.useEffect)(()=>{n()},[n]),{providers:e,loading:s,error:l,createProvider:c,updateProvider:o,deleteProvider:x,getProvider:u,testConnection:p,setDefault:m,reassignDependents:h,refetch:n}}function o(){let{providers:e,loading:t,error:s,createProvider:o,updateProvider:v,deleteProvider:j,testConnection:f,setDefault:y,refetch:w}=c(),[N,k]=(0,r.useState)(!1),[_,C]=(0,r.useState)(null),[L,S]=(0,r.useState)(null),[P,E]=(0,r.useState)({}),[D,z]=(0,r.useState)({}),[M,A]=(0,r.useState)({}),[$,R]=(0,r.useState)(null),[T,q]=(0,r.useState)(null),[O,U]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=()=>q(null),t=e=>{"Escape"===e.key&&q(null)};return null!==T&&(document.addEventListener("click",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",t)}},[T]),(0,r.useEffect)(()=>{let t=async()=>{let t=await Promise.all(e.map(async e=>{try{let t=await d.x.get(`/api/v1/llm-providers/${e.id}/usage`);if(t.error)return[e.id,{agents:0,crews:0}];return[e.id,{agents:t.data.agent_count||0,crews:t.data.crew_count||0}]}catch{return[e.id,{agents:0,crews:0}]}})),s={};for(let[e,a]of t)s[e]=a;A(s)};e.length&&t()},[e]);let F=async e=>{S(e);try{let t=await f(e);E(s=>({...s,[e]:{ok:!!t.success,message:t.message||(t.success?"OK":"Failed"),at:new Date().toLocaleTimeString()}}))}catch(t){E(s=>({...s,[e]:{ok:!1,message:t?.message||"Failed",at:new Date().toLocaleTimeString()}}))}S(null)},I=async e=>{try{await y(e),await w()}catch(e){alert("Failed to set default: "+(e?.message||"Unknown error"))}},B=async e=>{if(confirm("Delete this provider? This action cannot be undone."))try{await j(e),await w()}catch(t){t?.status===409?z(s=>({...s,[e]:t?.message||"Provider has dependencies."})):alert("Failed to delete: "+(t?.message||"Unknown error"))}};return a.jsx(l.Z,{children:(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(i.Z,{}),a.jsx("div",{className:"flex-1 overflow-auto",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[a.jsx(n.Z,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"LLM Providers"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Manage and validate LLM provider credentials"})]}),a.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"New Provider"})]}),!t&&!s&&Object.keys(P).length>0&&(0,a.jsxs)("div",{className:"p-3 rounded border text-sm bg-gray-50",children:[a.jsx("div",{className:"font-medium mb-1",children:"Recent Tests"}),a.jsx("ul",{className:"list-disc ml-5 space-y-1",children:e.filter(e=>!!P[e.id]).map(e=>(0,a.jsxs)("li",{className:P[e.id].ok?"text-green-700":"text-red-700",children:[e.name,": ",P[e.id].ok?"OK":"Fail"," — ",P[e.id].message," (",P[e.id].at,")"]},e.id))})]}),t?a.jsx("div",{className:"py-12 text-center text-gray-500",children:"Loading…"}):s?a.jsx("div",{className:"py-12 text-center text-red-600",children:s}):a.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 relative h-[70vh] overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm table-fixed",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 sticky top-0 z-10",children:[a.jsx("th",{className:"px-4 py-2 text-left",children:"Name"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Type"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Model"}),a.jsx("th",{className:"px-6 py-2 text-left",children:"Default"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Active"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Last Test"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.map(e=>(0,a.jsxs)("tr",{className:"odd:bg-white dark:odd:bg-gray-900 even:bg-gray-50 dark:even:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-4 py-2 truncate max-w-[240px]",children:a.jsx(m,{content:e.name,children:a.jsx("span",{children:e.name})})}),a.jsx("td",{className:"px-4 py-2 capitalize whitespace-nowrap",children:a.jsx(m,{content:`Provider type: ${e.provider_type}`,children:a.jsx("span",{children:e.provider_type})})}),a.jsx("td",{className:"px-4 py-2 pr-8 truncate max-w-[260px]",children:a.jsx(m,{content:e.model_name||"—",children:a.jsx("span",{children:e.model_name||"—"})})}),a.jsx("td",{className:"px-6 py-2","aria-label":e.is_default?"Default":"Not default",children:a.jsx(m,{content:e.is_default?"Default provider":"Not default",children:a.jsx("span",{className:"inline-flex items-center",children:a.jsx(h,{isDefault:e.is_default})})})}),a.jsx("td",{className:"px-4 py-2","aria-label":e.is_active?"Active":"Inactive",children:a.jsx(m,{content:e.is_active?"Active":"Inactive",children:a.jsx("span",{className:"inline-flex items-center",children:a.jsx(g,{isActive:e.is_active})})})}),a.jsx("td",{className:"px-4 py-2 text-sm",children:P[e.id]?a.jsx(m,{content:P[e.id].message,children:(0,a.jsxs)("span",{className:P[e.id].ok?"text-green-700":"text-red-700",children:[P[e.id].ok?"OK":"Fail"," \xb7 ",P[e.id].at]})}):a.jsx("span",{className:"text-gray-500",children:"—"})}),a.jsx("td",{className:"px-4 py-2",children:(0,a.jsxs)("div",{className:"relative inline-block text-left",children:[a.jsx("button",{onClick:t=>{t.stopPropagation(),q(T===e.id?null:e.id)},"aria-haspopup":"menu","aria-expanded":T===e.id,title:"Actions",className:"h-8 w-8 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:"⋮"}),T===e.id&&a.jsx("div",{className:"absolute right-0 mt-2 w-44 origin-top-right rounded-md bg-white dark:bg-gray-900 shadow-lg ring-1 ring-black/5 dark:ring-white/10 z-50 border border-gray-200 dark:border-gray-700",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"py-1 text-sm",children:[a.jsx("button",{onClick:()=>{q(null),U(e)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-800",title:"Where used",children:"\uD83D\uDD0D Where used"}),a.jsx("button",{onClick:()=>{q(null),F(e.id)},disabled:L===e.id,className:`w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-800 ${L===e.id?"opacity-60 cursor-not-allowed":""}`,title:"Test",children:"\uD83E\uDDEA Test"}),a.jsx("button",{onClick:()=>{q(null),C(e)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-800",title:"Edit",children:"✏️ Edit"}),a.jsx("button",{onClick:()=>{q(null),R(e)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-800",title:"Reassign dependents",children:"\uD83D\uDD01 Reassign"}),!e.is_default&&a.jsx("button",{onClick:()=>{q(null),I(e.id)},className:"w-full px-3 py-2 text-left hover:bg-gray-50",title:"Set default",children:"⭐ Set default"}),a.jsx("button",{onClick:()=>{q(null),B(e.id)},disabled:!!D[e.id],className:`w-full px-3 py-2 text-left hover:bg-red-50 dark:hover:bg-red-900/20 ${D[e.id]?"opacity-60 cursor-not-allowed":"text-red-700 dark:text-red-400"}`,title:D[e.id]||"Delete",children:"\uD83D\uDDD1️ Delete"})]})}),D[e.id]&&a.jsx("div",{className:"mt-1 text-xs text-amber-700",role:"note",children:D[e.id]})]})})]},e.id))})]})}),O&&a.jsx(b,{provider:O,counts:M[O.id]||{agents:0,crews:0},onClose:()=>U(null)}),N&&a.jsx(x,{onClose:()=>k(!1),onCreated:async e=>{k(!1),await w(),await F(e)}}),_&&a.jsx(u,{provider:_,onClose:()=>C(null),onUpdated:async()=>{C(null),await w()}}),$&&a.jsx(p,{source:$,providers:e,usage:M[$.id]||{agents:0,crews:0},onClose:()=>R(null),onDone:async()=>{R(null),z(e=>({...e,[$.id]:""})),await w()}})]})})]})})}function x({onClose:e,onCreated:t}){let[s,l]=(0,r.useState)({name:"",provider_type:"openai",model_name:"",api_key:"",api_base:"",is_default:!1}),[i,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null),x=async()=>{n(!0),o(null);let e={...s};e.api_key||delete e.api_key,e.api_base||delete e.api_base;let a=await d.x.post("/api/v1/llm-providers",e);if(a.error){o(a.error),n(!1);return}t((a.data?.provider||a.data).id)};return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-[520px] p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Create LLM Provider"}),a.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),c&&a.jsx("div",{className:"p-2 text-sm text-red-600 bg-red-50 rounded",children:c}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Name"}),a.jsx("input",{value:s.name,onChange:e=>l({...s,name:e.target.value}),className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Provider Type"}),(0,a.jsxs)("select",{value:s.provider_type,onChange:e=>l({...s,provider_type:e.target.value}),className:"mt-1 w-full border rounded px-3 py-2",children:[a.jsx("option",{value:"openai",children:"OpenAI"}),a.jsx("option",{value:"anthropic",children:"Anthropic"}),a.jsx("option",{value:"ollama",children:"Ollama"}),a.jsx("option",{value:"vllm",children:"vLLM"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Model Name"}),a.jsx("input",{value:s.model_name,onChange:e=>l({...s,model_name:e.target.value}),placeholder:"e.g., gpt-4",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"API Key"}),a.jsx("input",{value:s.api_key,onChange:e=>l({...s,api_key:e.target.value}),placeholder:"sk-...",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"API Base URL"}),a.jsx("input",{value:s.api_base,onChange:e=>l({...s,api_base:e.target.value}),placeholder:"https://api.openai.com/v1",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:s.is_default,onChange:e=>l({...s,is_default:e.target.checked})}),"Set as default provider"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded border",children:"Cancel"}),a.jsx("button",{onClick:x,disabled:i,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:i?"Creating…":"Create"})]})]})})}function u({provider:e,onClose:t,onUpdated:s}){let[l,i]=(0,r.useState)({name:e.name,provider_type:e.provider_type,model_name:e.model_name,api_key:"",api_base:e.api_base||"",is_default:e.is_default||!1,is_active:e.is_active}),[n,c]=(0,r.useState)(!1),[o,x]=(0,r.useState)(null),u=async()=>{c(!0),x(null);let t={...l};t.api_key||delete t.api_key,t.api_base||delete t.api_base;let a=await d.x.put(`/api/v1/llm-providers/${e.id}`,t);if(a.error){x(a.error),c(!1);return}s()};return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-[520px] p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Edit LLM Provider"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),o&&a.jsx("div",{className:"p-2 text-sm text-red-600 bg-red-50 rounded",children:o}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Name"}),a.jsx("input",{value:l.name,onChange:e=>i({...l,name:e.target.value}),className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Provider Type"}),(0,a.jsxs)("select",{value:l.provider_type,onChange:e=>i({...l,provider_type:e.target.value}),className:"mt-1 w-full border rounded px-3 py-2",children:[a.jsx("option",{value:"openai",children:"OpenAI"}),a.jsx("option",{value:"anthropic",children:"Anthropic"}),a.jsx("option",{value:"ollama",children:"Ollama"}),a.jsx("option",{value:"vllm",children:"vLLM"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Model Name"}),a.jsx("input",{value:l.model_name,onChange:e=>i({...l,model_name:e.target.value}),placeholder:"e.g., gpt-4",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"API Key (leave blank to keep)"}),a.jsx("input",{value:l.api_key,onChange:e=>i({...l,api_key:e.target.value}),placeholder:"sk-...",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"API Base URL"}),a.jsx("input",{value:l.api_base,onChange:e=>i({...l,api_base:e.target.value}),placeholder:"https://api.openai.com/v1",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:l.is_default,onChange:e=>i({...l,is_default:e.target.checked})}),"Set as default provider"]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:l.is_active,onChange:e=>i({...l,is_active:e.target.checked})}),"Active"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded border",children:"Cancel"}),a.jsx("button",{onClick:u,disabled:n,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:n?"Saving…":"Save"})]})]})})}function p({source:e,providers:t,usage:s,onClose:l,onDone:i}){let{reassignDependents:n}=c(),[d,o]=(0,r.useState)(""),[x,u]=(0,r.useState)(s.agents>0),[p,m]=(0,r.useState)(s.crews>0),[h,g]=(0,r.useState)(!1),[v,j]=(0,r.useState)(null),[f,y]=(0,r.useState)(null),b=async()=>{if(j(null),y(null),!d||d===e.id){j("Please select a different target provider.");return}if(!x&&!p){j("Select at least one dependent type to reassign.");return}g(!0);try{let t=x&&p?"all":x?"agents":"crews",s=await n(e.id,d,t);y(`Reassigned agents: ${s.agents_reassigned}, crews: ${s.crews_reassigned}`),setTimeout(i,800)}catch(e){j(e?.message||"Reassign failed")}finally{g(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-[520px] p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Reassign Dependents"}),a.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Move agents and/or crews using ",a.jsx("strong",{children:e.name})," to another provider."]}),v&&a.jsx("div",{className:"p-2 text-sm text-red-600 bg-red-50 rounded",children:v}),f&&a.jsx("div",{className:"p-2 text-sm text-green-700 bg-green-50 rounded",children:f}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Target Provider"}),(0,a.jsxs)("select",{value:d,onChange:e=>o(e.target.value?Number(e.target.value):""),className:"mt-1 w-full border rounded px-3 py-2",children:[a.jsx("option",{value:"",children:"Select provider…"}),t.filter(t=>t.id!==e.id).map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.provider_type,")"]},e.id))]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,a.jsxs)("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:e=>u(e.target.checked)}),"Agents (",s.agents,")"]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:e=>m(e.target.checked)}),"Crews (",s.crews,")"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 rounded border",children:"Cancel"}),a.jsx("button",{onClick:b,disabled:h,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:h?"Reassigning…":"Reassign"})]})]})})}function m({content:e,children:t}){let s=(0,r.useRef)(null),[l,i]=(0,r.useState)(!1),[n,d]=(0,r.useState)({top:0,left:0}),c=()=>{if(!s.current)return;let e=s.current.getBoundingClientRect();d({top:Math.min(e.bottom+8,window.innerHeight-8),left:e.left+e.width/2})};return(0,r.useEffect)(()=>{if(!l)return;c();let e=()=>c(),t=()=>c();return window.addEventListener("scroll",e,!0),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",t)}},[l]),(0,a.jsxs)("span",{ref:s,className:"relative inline-flex align-middle",onMouseEnter:()=>{i(!0),c()},onMouseLeave:()=>i(!1),children:[t,l&&!1]})}function h({isDefault:e}){return e?a.jsx(v,{className:"h-5 w-5 text-yellow-500"}):a.jsx(j,{className:"h-5 w-5 text-gray-400"})}function g({isActive:e}){return e?a.jsx(f,{className:"h-5 w-5 text-green-600"}):a.jsx(y,{className:"h-5 w-5 text-gray-400"})}function v({className:e=""}){return a.jsx("svg",{className:e,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.803 2.037a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.803-2.037a1 1 0 00-1.175 0l-2.803 2.037c-.785.57-1.84-.197-1.54-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})})}function j({className:e=""}){return a.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:a.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})}function f({className:e=""}){return a.jsx("svg",{className:e,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414L9 13.414l4.707-4.707z",clipRule:"evenodd"})})}function y({className:e=""}){return(0,a.jsxs)("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[a.jsx("circle",{cx:"12",cy:"12",r:"9"}),a.jsx("line",{x1:"16",y1:"8",x2:"8",y2:"16"})]})}function b({provider:e,counts:t,onClose:s}){return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:s,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-[520px] p-6 space-y-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Where used"}),a.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Dependencies for ",a.jsx("strong",{children:e.name})," (",e.provider_type,")."]}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Agents"}),a.jsx("a",{href:`/crews?llm_provider_id=${e.id}`,className:"text-blue-600 hover:underline",children:t.agents})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Crews (manager)"}),a.jsx("a",{href:`/crews?manager_llm_provider_id=${e.id}`,className:"text-blue-600 hover:underline",children:t.crews})]})]}),a.jsx("div",{className:"flex gap-2 justify-end pt-2",children:a.jsx("button",{onClick:s,className:"px-4 py-2 rounded border",children:"Close"})})]})})}},3399:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(6843).createProxy)(String.raw`/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/providers/page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[572,774,297,12],()=>s(6528));module.exports=a})();