(()=>{var e={};e.id=929,e.ids=[929],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9345:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>i});var r=a(482),s=a(9108),l=a(2563),o=a.n(l),n=a(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let i=["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8091)),"/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/chat/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8853)),"/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/chat/page.tsx"],x="/chat/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},8428:(e,t,a)=>{Promise.resolve().then(a.bind(a,6574))},6574:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(2295),s=a(3729),l=a(2254),o=a(4418),n=a(8955),d=a(5945),i=a(6224);function c({toolInvocations:e}){let[t,a]=(0,s.useState)(null),l=e=>{a(t===e?null:e)};return(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium opacity-75",children:"Tool Invocations:"}),e.map((e,a)=>(0,r.jsxs)("div",{className:"bg-white bg-opacity-50 rounded border border-gray-300 overflow-hidden",children:[(0,r.jsxs)("button",{onClick:()=>l(a),className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-gray-50 hover:bg-opacity-50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["\uD83D\uDD27 ",e.tool_name||`Tool ${e.tool_id}`]}),e.duration_ms&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.duration_ms,"ms)"]})]}),r.jsx("svg",{className:`w-4 h-4 transform transition-transform ${t===a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t===a&&(0,r.jsxs)("div",{className:"px-3 py-2 space-y-2 border-t border-gray-300",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Inputs:"}),r.jsx("pre",{className:"text-xs bg-gray-100 rounded p-2 overflow-x-auto",children:JSON.stringify(e.inputs,null,2)})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Outputs:"}),r.jsx("pre",{className:"text-xs bg-gray-100 rounded p-2 overflow-x-auto",children:JSON.stringify(e.outputs,null,2)})]})]})]},a))]})}function x({content:e}){let t=(0,s.useRef)(null),[a,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{},[]);let o=(0,s.useMemo)(()=>{if(!e)return"";try{let t=window.marked?window.marked.parse(e):e;return window.DOMPurify?window.DOMPurify.sanitize(t,{ALLOWED_ATTR:["href","target","rel","src","alt","class","title","id","name","lang"]}):t}catch{return e}},[e,a]);return((0,s.useEffect)(()=>{try{window.hljs&&t.current&&t.current.querySelectorAll("pre code").forEach(e=>{window.hljs.highlightElement(e)}),t.current&&Array.from(t.current.querySelectorAll("pre")).forEach(e=>{if(e._hasCopyButton)return;e._hasCopyButton=!0,e.style.position=e.style.position||"relative";let t=document.createElement("button");t.type="button",t.textContent="Copy",t.className="absolute top-2 right-2 px-2 py-1 text-xs rounded bg-gray-200 hover:bg-gray-300 text-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-100 transition-colors",t.addEventListener("click",async a=>{a.stopPropagation();let r=e.querySelector("code"),s=r?r.innerText:e.innerText;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(s);else{let e=document.createElement("textarea");e.value=s,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}let e=t.textContent;t.textContent="Copied!",setTimeout(()=>{t.textContent=e||"Copy"},1200)}catch{let e=t.textContent;t.textContent="Failed",setTimeout(()=>{t.textContent=e||"Copy"},1200)}}),e.appendChild(t)})}catch{}},[o]),e)?r.jsx("div",{ref:t,className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:o}}):null}function u({messages:e}){let t=(0,s.useRef)(null);return((0,s.useEffect)(()=>{t.current?.scrollIntoView({behavior:"smooth"})},[e]),0===e.length)?r.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:r.jsx("p",{className:"text-sm",children:"No messages yet. Start the conversation!"})}):(0,r.jsxs)("div",{className:"px-6 py-5 space-y-4",children:[e.map(e=>r.jsx("div",{className:`flex ${"user"===e.role?"justify-end dark:bg-slate-800/30 dark:rounded-xl dark:px-1.5 dark:py-1":"justify-start"}`,children:(0,r.jsxs)("div",{className:`max-w-[75%] rounded-xl px-4 py-3 border shadow-sm ${"user"===e.role?"bg-gradient-to-b from-sky-50 to-sky-100 text-slate-800 border-sky-200 dark:bg-transparent dark:text-slate-100/90 dark:border-slate-700":"assistant"===e.role?"bg-white text-slate-800 border-slate-200 dark:bg-transparent dark:text-slate-200 dark:border-slate-700":"bg-emerald-50 text-emerald-900 border-emerald-200 dark:bg-emerald-900/25 dark:text-emerald-200 dark:border-emerald-800/60"}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-[11px] font-medium opacity-75",children:"user"===e.role?"You":"assistant"===e.role?"Agent":"System"}),r.jsx("span",{className:"text-[11px] opacity-60",children:new Date(e.created_at).toLocaleTimeString()})]}),r.jsx("div",{className:`${(e.role,"prose prose-slate dark:prose-invert")} max-w-none leading-relaxed text-[15px] prose-a:text-blue-600 dark:prose-a:text-blue-300 prose-code:text-emerald-700 dark:prose-code:text-emerald-200`,children:r.jsx(x,{content:e.content})}),e.metadata?.tool_invocations&&e.metadata.tool_invocations.length>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:r.jsx(c,{toolInvocations:e.metadata.tool_invocations})})]})},e.id)),r.jsx("div",{ref:t})]})}function m({sessionId:e,sessionTitle:t,crewId:a,onManageTools:l,onTitleUpdate:o}){let[n,d]=(0,s.useState)([]),[c,x]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!0),[b,y]=(0,s.useState)(0),[v,f]=(0,s.useState)(null),[j,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)([]),[C,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{g(!0);let t=await i.x.get(`/api/v1/chat/sessions/${e}/messages`,{headers:{}});g(!1),t.data&&d(t.data)})()},[e]),(0,s.useEffect)(()=>{let t=!1;return(async()=>{try{w(!0);let a=await i.x.get(`/api/v1/chat/sessions/${e}`),r=a?.data?.session??a?.data??null,s=null,l=r?.llm_provider_id??r?.provider_id??r?.metadata?.llm_provider_id;if(l){let e=await i.x.get(`/api/v1/llm-providers/${l}`);s=e?.data?.provider??e?.data??null}else{let e=await i.x.get("/api/v1/llm-providers",{params:{is_default:!0,page_size:1}}),t=e?.data?.providers??e?.data??[];s=Array.isArray(t)?t[0]:null}t||f(s||null)}catch(e){t||f(null)}finally{t||w(!1)}})(),()=>{t=!0}},[e]),(0,s.useEffect)(()=>{let t=!1;return(async()=>{try{S(!0);let[a,r]=await Promise.all([i.x.get("/api/v1/tools"),i.x.get(`/api/v1/chat/sessions/${e}/tools`)]),s=a?.data?.tools??a?.data??[],l=r?.data?.tool_ids??r?.data??[],o=s.filter(e=>l.includes(e.id));t||k(o)}catch(e){t||k([])}finally{t||S(!1)}})(),()=>{t=!0}},[e]);let _=async()=>{if(c.trim()){p(!0),x("");try{let t=await i.x.post(`/api/v1/chat/sessions/${e}/generate?user_message=${encodeURIComponent(c+"\n\nPlease format your entire response in GitHub-Flavored Markdown. Use fenced code blocks with appropriate languages (e.g., ```json, ```yaml, ```python, ```javascript) for any code, JSON, YAML, or logs.")}`);if(t.data){let e=t.data.user_message,a=t.data.ai_response;d(t=>[...t,e,a]),y(e=>e+1)}}catch(e){console.error("Failed to send/generate message",e)}finally{p(!1)}}};return(0,s.useEffect)(()=>{3===b&&(async()=>{try{let t=((await i.x.get(`/api/v1/chat/sessions/${e}/messages`)).data||[]).slice(-12).map(e=>({role:e.role,content:e.content})),a={messages:[{role:"system",content:"You are a helpful assistant. Given the conversation, propose a short, descriptive session title (max 6 words). Return ONLY the title text without quotes or punctuation."},...t]},r=await i.x.post("/api/v1/chat/direct",a),s=(r?.data?.content||"").trim().replace(/^['"\s]+|[\.\!\?'"]+$/g,"");if(!s)return;await i.x.put(`/api/v1/chat/sessions/${e}`,{title:s}),o?.(s)}catch(e){console.warn("Failed to auto-title session",e)}})()},[b,e,o]),(0,r.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900",children:[r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800 px-6 py-3",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:t||`Chat Session #${e}`}),a&&(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Crew ID: ",a]}),(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[(0,r.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs bg-gray-100 dark:bg-gray-800/80 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 px-2 py-1 rounded-full",children:[(0,r.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[r.jsx("path",{d:"M12 2v4"}),r.jsx("path",{d:"M12 18v4"}),r.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),r.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),r.jsx("path",{d:"M2 12h4"}),r.jsx("path",{d:"M18 12h4"}),r.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),r.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}),j?"Loading provider…":v?`${v.name||v.provider_type||"Provider"}${v.model_name?` \xb7 ${v.model_name}`:""}`:"Default Provider"]}),(0,r.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs bg-gray-100 dark:bg-gray-800/80 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 px-2 py-1 rounded-full",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:r.jsx("path",{d:"M12 2l3 7h7l-5.5 4 2 7L12 17l-6.5 3 2-7L2 9h7z"})}),C?"Loading tools…":N.length?`${N.length} tool${N.length>1?"s":""}`:"No tools"]}),N.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[N.slice(0,4).map(e=>r.jsx("span",{className:"inline-flex items-center text-[10px] bg-white dark:bg-gray-900/80 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 px-2 py-0.5 rounded-full",children:e.name},e.id)),N.length>4&&(0,r.jsxs)("span",{className:"text-[10px] text-gray-500",children:["+",N.length-4," more"]})]})]})]}),l&&r.jsx("button",{onClick:l,className:"h-9 px-3 text-sm border rounded hover:bg-gray-100 whitespace-nowrap self-start",title:"Manage Tools","aria-label":"Manage tools",children:"Manage Tools"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-slate-50 dark:from-[#2b2f36] dark:to-[#26272b]",children:h?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsx(u,{messages:n})}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-end gap-2 p-3 bg-white dark:bg-[#40414f] border border-slate-200 dark:border-[#2a2b32] rounded-xl",children:[r.jsx("textarea",{value:c,onChange:e=>x(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),_())},placeholder:"Message…",rows:1,disabled:m,className:"flex-1 bg-transparent text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-300 px-1 py-1 resize-none focus:outline-none max-h-40 min-h-[44px]"}),r.jsx("button",{onClick:_,disabled:!c.trim()||m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Sending…":"Send"})]})})]})}function p({isOpen:e,onClose:t,title:a,children:s,size:l="md"}){return e?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),r.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,r.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[l]} w-full`,children:[a&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"p-6",children:s})]})})]}):null}function h(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),[a,c]=(0,s.useState)([]),[x,u]=(0,s.useState)(null),[h,b]=(0,s.useState)(!0),[y,v]=(0,s.useState)(!1),[f,j]=(0,s.useState)(""),[w,N]=(0,s.useState)(""),[k,C]=(0,s.useState)([]),[S,_]=(0,s.useState)(null),[M,L]=(0,s.useState)(""),[$,z]=(0,s.useState)(""),[P,A]=(0,s.useState)([]),[D,E]=(0,s.useState)(!1),[F,T]=(0,s.useState)([]),[O,R]=(0,s.useState)([]),[q,I]=(0,s.useState)(!1),[U,B]=(0,s.useState)(""),[H,G]=(0,s.useState)({open:!1,title:"",message:""}),[V,Y]=(0,s.useState)(null),[K,W]=(0,s.useState)(""),[J,Z]=(0,s.useState)({open:!1,session:null}),[Q,X]=(0,s.useState)({open:!1,mode:"create",folder:null,name:""}),[ee,et]=(0,s.useState)({open:!1,folder:null}),[ea,er]=(0,s.useState)(null),[es,el]=(0,s.useState)({open:!1}),[eo,en]=(0,s.useState)([]);(0,s.useEffect)(()=>{ed(),ei()},[]),(0,s.useEffect)(()=>{y&&(ec(),ex())},[y]);let ed=async()=>{b(!0);try{let e=new URLSearchParams;w.trim()&&e.set("q",w.trim()),null!==S&&e.set("folder_id",String(S));let a=await i.x.get(`/api/v1/chat/sessions${e.toString()?`?${e.toString()}`:""}`),r=Array.isArray(a.data)?a.data:[];c(r);let s=t?.get("session"),l=s?Number(s):null;l&&r.some(e=>e.id===l)?u(l):r.length>0&&u(r[0].id)}catch(e){console.error("Failed to load chat sessions:",e),c([])}finally{b(!1)}},ei=async()=>{try{let e=await i.x.get("/api/v1/chat/folders");C(Array.isArray(e.data)?e.data:[])}catch(e){C([])}},ec=async()=>{E(!0);try{let e=await i.x.get("/api/v1/llm-providers",{params:{page:1,page_size:100,is_active:!0}});e.data&&A(e.data.providers||[])}catch(e){console.error("Failed to load providers",e),A([])}finally{E(!1)}},ex=async()=>{I(!0);try{let e=await i.x.get("/api/v1/tools");e.data&&T(e.data.tools||[])}catch(e){console.error("Failed to load tools",e),T([])}finally{I(!1)}},eu=async()=>{let e=f.trim()||`New Chat ${new Date().toLocaleString()}`;try{let t={title:e,system_prompt:$||void 0};M&&(t.llm_provider_id=M),O.length&&(t.tool_ids=O),U&&(t.folder_id=U);let r=await i.x.post("/api/v1/chat/sessions",t);if(r.data){let e=r.data.session??r.data;c([...a,e]),u(e.id),v(!1),j(""),L(""),z(""),R([]),B("")}else if(r.error){let e=String(r.error);G({open:!0,title:"Unable to Create Session",message:e.includes("No default LLM provider")||e.includes("Default provider")?"No LLM provider is configured. Please add a provider in Providers or select one when creating a session.":e})}}catch(e){console.error("Failed to create session:",e),G({open:!0,title:"Unable to Create Session",message:"An unexpected error occurred while creating the session."})}},em=a.find(e=>e.id===x),ep=async e=>{try{let t=await i.x.post("/api/v1/chat/sessions",{title:e});if(t.data){let e=t.data.session??t.data;c(t=>[...t,e]),u(e.id),v(!1),j(""),L(""),z(""),R([])}}catch(e){console.error("Auto session creation failed",e)}};return(0,s.useEffect)(()=>{es.open&&x&&(async()=>{let[e,t]=await Promise.all([i.x.get("/api/v1/tools"),i.x.get(`/api/v1/chat/sessions/${x}/tools`)]);en(e.data?.tools||[]),el({open:!0,toolIds:t.data?.tool_ids||[]})})()},[es.open,x]),(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(n.Z,{}),r.jsx("div",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("div",{className:"h-screen flex flex-col",children:[r.jsx("div",{className:"px-6 pt-4",children:r.jsx(d.Z,{})}),(0,r.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,r.jsxs)("div",{className:"w-72 bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chat Sessions"})}),r.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-800",children:r.jsx("input",{value:w,onChange:e=>N(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ed()},placeholder:"Search sessions...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"})}),(0,r.jsxs)("div",{className:"px-3 py-2 border-b border-gray-200 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Folders"}),r.jsx("button",{className:"p-1 border rounded hover:bg-gray-100 dark:hover:bg-gray-800 dark:border-gray-700","aria-label":"New folder",title:"New folder",onClick:()=>X({open:!0,mode:"create",folder:null,name:""}),children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:r.jsx("path",{d:"M12 4.5a.75.75 0 01.75.75V11h5.75a.75.75 0 010 1.5H12.75v5.75a.75.75 0 01-1.5 0V12.5H5.5a.75.75 0 010-1.5h5.75V5.25A.75.75 0 0112 4.5z"})})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("button",{onClick:()=>{_(null),ed()},className:`w-full text-left px-3 py-1.5 rounded ${null===S?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:"All"}),k.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>{_(e.id),ed()},className:`flex-1 text-left px-3 py-1.5 rounded ${S===e.id?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:e.name}),r.jsx("button",{className:"p-1 border rounded hover:bg-gray-100 dark:hover:bg-gray-800 dark:border-gray-700","aria-label":"Rename folder",title:"Rename",onClick:()=>X({open:!0,mode:"rename",folder:e,name:e.name}),children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:[r.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.714 0l-1.157 1.157 3.714 3.714 1.157-1.157a2.625 2.625 0 000-3.714z"}),r.jsx("path",{d:"M3 17.25V21h3.75L19.5 8.25l-3.75-3.75L3 17.25z"})]})}),r.jsx("button",{className:"p-1 border rounded hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:border-gray-700","aria-label":"Delete folder",title:"Delete",onClick:()=>et({open:!0,folder:e}),children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:[r.jsx("path",{d:"M9 3a1 1 0 00-1 1v1H4.75a.75.75 0 000 1.5h14.5a.75.75 0 000-1.5H16V4a1 1 0 00-1-1H9z"}),r.jsx("path",{fillRule:"evenodd",d:"M6.5 8.25a.75.75 0 01.75-.75h9.5a.75.75 0 01.75.75v10a2 2 0 01-2 2h-7a2 2 0 01-2-2v-10zM10 10a.75.75 0 01.75.75v7a.75.75 0 01-1.5 0v-7A.75.75 0 0110 10zm4 0a.75.75 0 01.75.75v7a.75.75 0 01-1.5 0v-7A.75.75 0 0114 10z",clipRule:"evenodd"})]})})]},e.id))]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:h?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===a.length?r.jsx("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No chat sessions yet"}):r.jsx("div",{className:"p-1 space-y-0.5",children:a.map(e=>r.jsx("div",{className:`rounded-md px-2 py-1 text-sm ${x===e.id?"bg-blue-100 text-blue-900 dark:bg-blue-900/30 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-200"}`,children:r.jsx("div",{className:"flex items-center justify-between",children:V===e.id?(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[r.jsx("input",{autoFocus:!0,value:K,onChange:e=>W(e.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded"}),r.jsx("button",{className:"text-xs px-2 py-1 border rounded bg-blue-600 text-white hover:bg-blue-700",onClick:async()=>{let t=K.trim();if(!t){Y(null);return}let a=await i.x.put(`/api/v1/chat/sessions/${e.id}`,{title:t});Y(null),a.error||await ed()},children:"Save"}),r.jsx("button",{className:"text-xs px-2 py-1 border rounded",onClick:()=>{Y(null),W("")},children:"Cancel"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{className:"font-medium truncate text-left flex-1",onClick:()=>u(e.id),children:e.title||"Untitled"}),(0,r.jsxs)("div",{className:"flex items-center gap-1 relative",children:[(0,r.jsxs)("button",{className:"p-1 border rounded hover:bg-gray-100 dark:hover:bg-gray-800 dark:border-gray-700",onClick:()=>{Y(e.id),W(e.title||"")},"aria-label":"Rename session",title:"Rename",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:[r.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.714 0l-1.157 1.157 3.714 3.714 1.157-1.157a2.625 2.625 0 000-3.714z"}),r.jsx("path",{d:"M3 17.25V21h3.75L19.5 8.25l-3.75-3.75L3 17.25z"})]}),r.jsx("span",{className:"sr-only",children:"Rename"})]}),r.jsx("button",{className:"p-1 border rounded hover:bg-gray-100 dark:hover:bg-gray-800 dark:border-gray-700","aria-label":"Move to folder",title:e.folder_id?`Folder: ${k.find(t=>t.id===e.folder_id)?.name||"Unknown"}`:"Move to folder",onClick:()=>er(ea===e.id?null:e.id),children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:r.jsx("path",{d:"M2.25 6.75A2.25 2.25 0 014.5 4.5h4.086a2.25 2.25 0 011.59.659l1.415 1.415a2.25 2.25 0 001.59.659H19.5A2.25 2.25 0 0121.75 9v7.5a2.25 2.25 0 01-2.25 2.25h-15A2.25 2.25 0 012.25 16.5V6.75z"})})}),ea===e.id&&(0,r.jsxs)("div",{className:"absolute right-0 z-10 mt-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded shadow p-2 text-sm",children:[r.jsx("button",{className:`block w-full text-left px-3 py-1.5 rounded ${null==e.folder_id?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,onClick:async()=>{let t=await i.x.put(`/api/v1/chat/sessions/${e.id}`,{folder_id:null});er(null),t.error||await ed()},children:"None"}),k.map(t=>r.jsx("button",{className:`block w-full text-left px-3 py-1.5 rounded ${e.folder_id===t.id?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,onClick:async()=>{let a=await i.x.put(`/api/v1/chat/sessions/${e.id}`,{folder_id:t.id});er(null),a.error||await ed()},children:t.name},t.id))]}),(0,r.jsxs)("button",{className:"p-1 border rounded hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:border-gray-700",onClick:()=>Z({open:!0,session:e}),"aria-label":"Delete session",title:"Delete",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:[r.jsx("path",{d:"M9 3a1 1 0 00-1 1v1H4.75a.75.75 0 000 1.5h14.5a.75.75 0 000-1.5H16V4a1 1 0 00-1-1H9z"}),r.jsx("path",{fillRule:"evenodd",d:"M6.5 8.25a.75.75 0 01.75-.75h9.5a.75.75 0 01.75.75v10a2 2 0 01-2 2h-7a2 2 0 01-2-2v-10zM10 10a.75.75 0 01.75.75v7a.75.75 0 01-1.5 0v-7A.75.75 0 0110 10zm4 0a.75.75 0 01.75.75v7a.75.75 0 01-1.5 0v-7A.75.75 0 0114 10z",clipRule:"evenodd"})]}),r.jsx("span",{className:"sr-only",children:"Delete"})]})]})]})})},e.id))})}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>v(!0),className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"New Session"}),r.jsx("button",{onClick:()=>void ed(),className:"px-3 py-2 text-sm border rounded",children:"Refresh"})]})})]}),r.jsx("div",{className:"flex-1 flex flex-col",children:x&&em?r.jsx(m,{sessionId:x,sessionTitle:em.title||"Untitled",crewId:em.crew_id||void 0,onManageTools:()=>el({open:!0}),onTitleUpdate:e=>{c(t=>t.map(t=>t.id===x?{...t,title:e}:t))}}):r.jsx(g,{onCreateSession:()=>v(!0),onGoConfigure:()=>e.push("/providers"),onAutoCreateSession:ep})}),y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"New Chat Session"}),(0,r.jsxs)("div",{className:"space-y-4",children:[0===P.length&&r.jsx("div",{className:"p-3 rounded border border-amber-300 bg-amber-50 text-amber-900 text-sm",children:"No active LLM provider found. You can still create a session, but chatting requires a configured provider. Go to Providers to add one."}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"session_name",className:"block text-sm font-medium text-gray-700",children:"Session Name"}),r.jsx("input",{id:"session_name",type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"e.g., Research Discussion",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"provider_id",className:"block text-sm font-medium text-gray-700",children:"Provider"}),(0,r.jsxs)("select",{id:"provider_id",value:M,onChange:e=>L(e.target.value?Number(e.target.value):""),disabled:D,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[r.jsx("option",{value:"",children:"Use default provider"}),P.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.provider_type,")"]},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"folder_id",className:"block text-sm font-medium text-gray-700",children:"Folder (Optional)"}),(0,r.jsxs)("select",{id:"folder_id",value:U,onChange:e=>B(e.target.value?Number(e.target.value):""),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"None"}),k.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"system_prompt",className:"block text-sm font-medium text-gray-700",children:"System Prompt (Optional)"}),r.jsx("textarea",{id:"system_prompt",rows:3,value:$,onChange:e=>z(e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-blue-500"}),r.jsx("div",{className:"mt-2",children:r.jsx("button",{type:"button",onClick:()=>{let e=F.filter(e=>O.includes(e.id)).map(e=>`- ${e.name}: ${e.description}`);z(`You can use the following tools when helpful. Return clearly labeled results and cite which tool was used.
Tools:
${e.join("\n")}`)},disabled:0===O.length,className:"text-xs px-2 py-1 border rounded-md disabled:opacity-50",children:"Suggest prompt from selected tools"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tools (Optional)"}),r.jsx("div",{className:"mt-1 max-h-40 overflow-y-auto border rounded-md p-2",children:q?r.jsx("div",{className:"text-sm text-gray-500",children:"Loading tools..."}):0===F.length?r.jsx("div",{className:"text-sm text-gray-500",children:"No tools available"}):F.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 py-1 text-sm",children:[r.jsx("input",{type:"checkbox",checked:O.includes(e.id),onChange:t=>{R(a=>t.target.checked?[...a,e.id]:a.filter(t=>t!==e.id))}}),(0,r.jsxs)("span",{className:"truncate",children:[r.jsx("span",{className:"font-medium",children:e.name})," – ",r.jsx("span",{className:"text-gray-500",children:e.description})]})]},e.id))})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{v(!1),j(""),L(""),z(""),R([]),B("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:eu,disabled:!f.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create"})]})]})})]})]})})]}),H.open&&(0,r.jsxs)(p,{isOpen:H.open,onClose:()=>G({...H,open:!1}),title:H.title,size:"sm",children:[r.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:H.message}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:()=>G({...H,open:!1}),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"OK"})})]}),Q.open&&r.jsx(p,{isOpen:Q.open,onClose:()=>X({open:!1,mode:"create",folder:null,name:""}),title:"create"===Q.mode?"New Folder":"Rename Folder",size:"sm",children:(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("input",{autoFocus:!0,value:Q.name,onChange:e=>X({...Q,name:e.target.value}),placeholder:"Folder name",className:"w-full px-3 py-2 border border-gray-300 rounded"}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>X({open:!1,mode:"create",folder:null,name:""}),className:"px-4 py-2 border rounded",children:"Cancel"}),r.jsx("button",{onClick:async()=>{let e=Q.name.trim();e&&("create"===Q.mode?(await i.x.post("/api/v1/chat/folders",{name:e})).error||await ei():Q.folder&&!(await i.x.put(`/api/v1/chat/folders/${Q.folder.id}`,{name:e})).error&&await ei(),X({open:!1,mode:"create",folder:null,name:""}))},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]})}),ee.open&&(0,r.jsxs)(p,{isOpen:ee.open,onClose:()=>et({open:!1,folder:null}),title:"Delete Folder",size:"sm",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-800",children:['Delete folder "',ee.folder?.name,'"? Sessions will be moved out of this folder.']}),(0,r.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>et({open:!1,folder:null}),className:"px-4 py-2 border rounded",children:"Cancel"}),r.jsx("button",{onClick:async()=>{if(!ee.folder)return;let e=ee.folder.id,t=await i.x.delete(`/api/v1/chat/folders/${e}`);et({open:!1,folder:null}),t.error||(S===e&&_(null),await ei(),await ed())},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]}),es.open&&r.jsx(p,{isOpen:es.open,onClose:()=>el({open:!1}),title:"Manage Tools",size:"lg",children:(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Select which tools this session is allowed to use."}),r.jsx("div",{className:"max-h-64 overflow-y-auto border rounded",children:0===eo.length?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No tools available"}):eo.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 p-2 border-b last:border-b-0",children:[r.jsx("input",{type:"checkbox",checked:(es.toolIds||[]).includes(e.id),onChange:t=>{let a=new Set(es.toolIds||[]);t.target.checked?a.add(e.id):a.delete(e.id),el({open:!0,toolIds:Array.from(a)})}}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-sm font-medium",children:[e.name," ",(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.tool_type,")"]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>el({open:!1}),className:"px-4 py-2 border rounded",children:"Cancel"}),r.jsx("button",{onClick:async()=>{x&&((await i.x.put(`/api/v1/chat/sessions/${x}/tools`,{tool_ids:es.toolIds||[]})).error||el({open:!1}))},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]})}),J.open&&(0,r.jsxs)(p,{isOpen:J.open,onClose:()=>Z({open:!1,session:null}),title:"Delete Session",size:"sm",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-800",children:['Are you sure you want to delete the session "',J.session?.title||"Untitled",'"?']}),(0,r.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>Z({open:!1,session:null}),className:"px-4 py-2 border rounded",children:"Cancel"}),r.jsx("button",{onClick:async()=>{if(!J.session)return;let e=J.session.id,t=await i.x.delete(`/api/v1/chat/sessions/${e}`);Z({open:!1,session:null}),t.error||(x===e&&u(null),await ed())},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]})]})}function g({onCreateSession:e,onGoConfigure:t,onAutoCreateSession:a}){let[l,o]=(0,s.useState)([]),[n,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(0),[y,v]=(0,s.useState)({open:!1,title:"",message:""}),f=async()=>{if(n.trim()){d(""),o(e=>[...e,{role:"user",content:n}]),u(!0);try{let e={messages:[{role:"system",content:"You are a helpful assistant. Always respond in GitHub-Flavored Markdown. Use fenced code blocks with proper language tags (e.g., ```json, ```yaml, ```python, ```javascript) when outputting code, JSON, or YAML. Be concise and structured."},...l.map(e=>({role:e.role,content:e.content})),{role:"user",content:n}]},t=await i.x.post("/api/v1/chat/direct",e);if(t.error){let e=t.error.toString();400===t.status&&e.includes("No default LLM provider configured")?(h({title:"No default LLM provider",body:"Create a chat session to choose a provider, or set a default provider in your configuration.",type:"provider"}),v({open:!0,title:"No LLM Provider",message:"No default LLM provider is configured. Please add a provider in Providers or set one as default."})):400===t.status&&e.toLowerCase().includes("credentials")?(h({title:"LLM credentials missing/invalid",body:"Update your LLM provider configuration with a valid API key.",type:"credentials"}),v({open:!0,title:"LLM Credentials Error",message:"Provider credentials are missing or invalid. Please update your provider configuration."})):(o(t=>[...t,{role:"assistant",content:`Sorry, I could not respond: ${e}`}]),v({open:!0,title:"Chat Error",message:e}));return}let r=t?.data?.content??"";if(r&&o(e=>[...e,{role:"assistant",content:r}]),b(e=>e+1),g+1>=1){let e=n.length>60?n.slice(0,60)+"…":n;await a(e||"New Chat")}}catch(e){o(e=>[...e,{role:"assistant",content:"Sorry, I could not respond right now."}]),console.error("Quick chat failed",e)}finally{u(!1)}}};return(0,r.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900",children:[(0,r.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-800 px-6 py-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Quick Chat"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Chat without creating a saved session"})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-3",children:[m&&(0,r.jsxs)("div",{className:"p-3 border border-amber-300 dark:border-amber-700/50 bg-amber-50 dark:bg-amber-900/20 rounded-md",children:[r.jsx("div",{className:"font-medium text-amber-900 dark:text-amber-300",children:m.title}),r.jsx("div",{className:"text-sm text-amber-800 dark:text-amber-200 mt-1",children:m.body}),(0,r.jsxs)("div",{className:"mt-3 flex gap-2",children:[r.jsx("button",{onClick:e,className:"px-3 py-1.5 text-sm rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Create Session"}),r.jsx("button",{onClick:t,className:"px-3 py-1.5 text-sm rounded-md bg-gray-800 text-white hover:bg-gray-900",children:"Configure Provider"})]})]}),0===l.length?r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Say hello to start chatting."}):l.map((e,t)=>r.jsx("div",{className:"user"===e.role?"text-right":"text-left",children:r.jsx("div",{className:`inline-block px-3 py-2 rounded-xl max-w-[75%] text-left border shadow-sm ${"user"===e.role?"bg-gradient-to-b from-sky-50 to-sky-100 text-slate-800 border-sky-200 dark:bg-transparent dark:text-slate-100/90 dark:border-slate-700":"bg-white text-slate-800 border-slate-200 dark:bg-transparent dark:text-slate-200 dark:border-slate-700"}`,children:r.jsx("div",{className:`${(e.role,"prose prose-slate dark:prose-invert")} max-w-none leading-relaxed text-[15px] prose-a:text-blue-600 dark:prose-a:text-blue-300 prose-code:text-emerald-700 dark:prose-code:text-emerald-200`,children:r.jsx(x,{content:e.content})})})},t))]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("textarea",{value:n,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},rows:2,placeholder:"Type your message...",className:"flex-1 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 resize-none focus:border-blue-500 focus:outline-none focus:ring-blue-500"}),r.jsx("button",{onClick:f,disabled:c||!n.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed self-end",children:c?"Sending...":"Send"})]})}),y.open&&(0,r.jsxs)(p,{isOpen:y.open,onClose:()=>v({...y,open:!1}),title:y.title,size:"sm",children:[r.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:y.message}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:()=>v({...y,open:!1}),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"OK"})})]})]})}},8091:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>s,default:()=>o});let r=(0,a(6843).createProxy)(String.raw`/Users/blackghost/go/src/github.com/szaher/crewzx/crewz/frontend/src/app/chat/page.tsx`),{__esModule:s,$$typeof:l}=r,o=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[572,774,297,12],()=>a(9345));module.exports=r})();