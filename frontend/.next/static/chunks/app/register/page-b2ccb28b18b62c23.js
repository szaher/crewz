(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{229:function(e,t,n){Promise.resolve().then(n.t.bind(n,5250,23)),Promise.resolve().then(n.bind(n,7370))},7370:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437),s=n(2265),o=n(4033),a=n(6312),l=n(8541);function u(){let e=(0,o.useRouter)();(0,l.tN)(e=>e.setAuth),(0,l.qT)(e=>e.setTenant);let[t,n]=(0,s.useState)({email:"",password:"",full_name:"",tenant_name:""}),[u,i]=(0,s.useState)(""),[d,c]=(0,s.useState)(null),[m,h]=(0,s.useState)(!1),f=async n=>{if(n.preventDefault(),c(null),t.password!==u){c("Passwords do not match");return}if(t.password.length<8){c("Password must be at least 8 characters");return}h(!0);try{let n=await a.x.post("/api/v1/auth/register",t);if(n.error){c(n.error);return}n.data&&e.push("/login?registered=true")}catch(e){c(e instanceof Error?e.message:"Registration failed")}finally{h(!1)}};return(0,r.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,r.jsx)("input",{id:"full_name",type:"text",required:!0,value:t.full_name,onChange:e=>n({...t,full_name:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",required:!0,value:t.email,onChange:e=>n({...t,email:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tenant_name",className:"block text-sm font-medium text-gray-700",children:"Organization Name"}),(0,r.jsx)("input",{id:"tenant_name",type:"text",required:!0,value:t.tenant_name,onChange:e=>n({...t,tenant_name:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",required:!0,value:t.password,onChange:e=>n({...t,password:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,r.jsx)("input",{id:"confirm_password",type:"password",required:!0,value:u,onChange:e=>i(e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",disabled:m})]}),d&&(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:d})}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Creating account...":"Create account"})]})}},6312:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});let r="http://localhost:8000",s="http://localhost:8000";{let e="".concat(window.location.protocol,"//").concat(window.location.hostname,":8000");r=s&&!/^(https?:\/\/)?(localhost|127\.0\.0\.1)(:|$)/i.test(s)?s:e}class o{setUnauthorizedHandler(e){this.onUnauthorized=e}setToken(e){this.token=e,localStorage.setItem("access_token",e)}clearToken(){this.token=null,localStorage.removeItem("access_token")}getToken(){return this.token}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:n="GET",body:r,headers:s={},skipAuth:o=!1}=t,a="".concat(this.baseUrl).concat(e),l={"Content-Type":"application/json",...s};!o&&this.token&&(l.Authorization="Bearer ".concat(this.token));let u={method:n,headers:l};r&&"GET"!==n&&(u.body=JSON.stringify(r));try{let e=await fetch(a,u),t=e.headers.get("content-type")||"",n=204===e.status||205===e.status||"0"===e.headers.get("content-length"),r=null;if(!n){if(t.includes("application/json"))try{r=await e.json()}catch(e){r=null}else try{r=await e.text()||null}catch(e){r=null}}if(!e.ok)return 401===e.status&&!o&&(this.clearToken(),this.onUnauthorized&&this.onUnauthorized()),{error:"string"==typeof r&&r||(null==r?void 0:r.detail)||(null==r?void 0:r.message)||"Request failed",status:e.status};return{data:r,status:e.status}}catch(e){return{error:e instanceof Error?e.message:"Network error",status:0}}}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,n){return this.request(e,{...n,method:"POST",body:t})}async put(e,t,n){return this.request(e,{...n,method:"PUT",body:t})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}constructor(e=r){this.token=null,this.onUnauthorized=null,this.baseUrl=e,this.token=localStorage.getItem("access_token")}}let a=new o},8541:function(e,t,n){"use strict";n.d(t,{EW:function(){return u},Ge:function(){return l},HB:function(){return m},eb:function(){return i},f0:function(){return c},nL:function(){return d},qT:function(){return a},tN:function(){return o}});var r=n(4738),s=n(4810);let o=(0,r.Ue)()((0,s.tJ)(e=>({user:null,token:null,isAuthenticated:!1,setAuth:(t,n)=>e({user:t,token:n,isAuthenticated:!0}),clearAuth:()=>e({user:null,token:null,isAuthenticated:!1})}),{name:"auth-storage"})),a=(0,r.Ue)()((0,s.tJ)(e=>({currentTenant:null,setTenant:t=>e({currentTenant:t}),clearTenant:()=>e({currentTenant:null})}),{name:"tenant-storage"})),l=(0,r.Ue)(e=>({flows:[],currentFlow:null,setFlows:t=>e({flows:t}),setCurrentFlow:t=>e({currentFlow:t}),addFlow:t=>e(e=>({flows:[...e.flows,t]})),updateFlow:(t,n)=>e(e=>{var r;return{flows:e.flows.map(e=>e.id===t?{...e,...n}:e),currentFlow:(null===(r=e.currentFlow)||void 0===r?void 0:r.id)===t?{...e.currentFlow,...n}:e.currentFlow}}),deleteFlow:t=>e(e=>{var n;return{flows:e.flows.filter(e=>e.id!==t),currentFlow:(null===(n=e.currentFlow)||void 0===n?void 0:n.id)===t?null:e.currentFlow}})})),u=(0,r.Ue)(e=>({agents:[],setAgents:t=>e({agents:t}),addAgent:t=>e(e=>({agents:[...e.agents,t]})),updateAgent:(t,n)=>e(e=>({agents:e.agents.map(e=>e.id===t?{...e,...n}:e)})),deleteAgent:t=>e(e=>({agents:e.agents.filter(e=>e.id!==t)}))})),i=(0,r.Ue)(e=>({crews:[],setCrews:t=>e({crews:t}),addCrew:t=>e(e=>({crews:[...e.crews,t]})),updateCrew:(t,n)=>e(e=>({crews:e.crews.map(e=>e.id===t?{...e,...n}:e)})),deleteCrew:t=>e(e=>({crews:e.crews.filter(e=>e.id!==t)}))})),d=(0,r.Ue)(e=>({tools:[],setTools:t=>e({tools:t}),addTool:t=>e(e=>({tools:[...e.tools,t]})),updateTool:(t,n)=>e(e=>({tools:e.tools.map(e=>e.id===t?{...e,...n}:e)})),deleteTool:t=>e(e=>({tools:e.tools.filter(e=>e.id!==t)}))})),c=(0,r.Ue)(e=>({executions:[],currentExecution:null,setExecutions:t=>e({executions:t}),setCurrentExecution:t=>e({currentExecution:t}),addExecution:t=>e(e=>({executions:[...e.executions,t]})),updateExecution:(t,n)=>e(e=>{var r;return{executions:e.executions.map(e=>e.id===t?{...e,...n}:e),currentExecution:(null===(r=e.currentExecution)||void 0===r?void 0:r.id)===t?{...e.currentExecution,...n}:e.currentExecution}})})),m=(0,r.Ue)()((0,s.tJ)(e=>({sidebarOpen:!0,theme:"system",toggleSidebar:()=>e(e=>({sidebarOpen:!e.sidebarOpen})),setTheme:t=>e({theme:t})}),{name:"ui-storage"}))}},function(e){e.O(0,[311,279,971,458,744],function(){return e(e.s=229)}),_N_E=e.O()}]);