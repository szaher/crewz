(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{9888:function(e,t,a){Promise.resolve().then(a.bind(a,5391))},5391:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(7437),r=a(2265),l=a(4887),n=a(9755),i=a(8563),d=a(9222),c=a(6312);function o(){let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[l,n]=(0,r.useState)(null),i=(0,r.useCallback)(async()=>{s(!0),n(null);try{var e;let a=await c.x.get("/api/v1/llm-providers");if(a.error)throw Error(a.error);t((null===(e=a.data)||void 0===e?void 0:e.providers)||[])}catch(e){n(e instanceof Error?e.message:"Failed to fetch LLM providers"),console.error("Failed to fetch LLM providers:",e)}finally{s(!1)}},[]),d=async e=>{var a;let s=await c.x.post("/api/v1/llm-providers",e);if(s.error)throw Error(s.error);let r=(null===(a=s.data)||void 0===a?void 0:a.provider)||s.data;return t(e=>[...e,r]),r},o=async(e,a)=>{var s;let r=await c.x.put("/api/v1/llm-providers/".concat(e),a);if(r.error)throw Error(r.error);let l=(null===(s=r.data)||void 0===s?void 0:s.provider)||r.data;return t(t=>t.map(t=>t.id===e?l:t)),l},u=async e=>{let a=await c.x.delete("/api/v1/llm-providers/".concat(e));if(a.error){let e=Error(a.error);throw e.status=a.status,e}t(t=>t.filter(t=>t.id!==e))},x=async e=>{var t;let a=await c.x.get("/api/v1/llm-providers/".concat(e));if(a.error)throw Error(a.error);return(null===(t=a.data)||void 0===t?void 0:t.provider)||a.data},h=async e=>{let t=await c.x.post("/api/v1/llm-providers/".concat(e,"/test"),{});if(t.error)throw Error(t.error);return t.data},m=async e=>{var t;let a=await c.x.post("/api/v1/llm-providers/".concat(e,"/set-default"),{});if(a.error)throw Error(a.error);let s=(null===(t=a.data)||void 0===t?void 0:t.provider)||a.data;return await i(),s},p=async function(e,t){var a,s,r,l;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",d=await c.x.post("/api/v1/llm-providers/".concat(e,"/reassign"),{target_provider_id:t,scope:n});if(d.error)throw Error(d.error);return await i(),{agents_reassigned:null!==(r=null===(a=d.data)||void 0===a?void 0:a.agents_reassigned)&&void 0!==r?r:0,crews_reassigned:null!==(l=null===(s=d.data)||void 0===s?void 0:s.crews_reassigned)&&void 0!==l?l:0}};return(0,r.useEffect)(()=>{i()},[i]),{providers:e,loading:a,error:l,createProvider:d,updateProvider:o,deleteProvider:u,getProvider:x,testConnection:h,setDefault:m,reassignDependents:p,refetch:i}}function u(){let{providers:e,loading:t,error:a,createProvider:l,updateProvider:u,deleteProvider:f,testConnection:j,setDefault:y,refetch:b}=o(),[w,k]=(0,r.useState)(!1),[_,C]=(0,r.useState)(null),[L,S]=(0,r.useState)(null),[E,D]=(0,r.useState)({}),[A,M]=(0,r.useState)({}),[P,z]=(0,r.useState)({}),[R,T]=(0,r.useState)(null),[O,B]=(0,r.useState)(null),[F,I]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=()=>B(null),t=e=>{"Escape"===e.key&&B(null)};return null!==O&&(document.addEventListener("click",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",t)}},[O]),(0,r.useEffect)(()=>{let t=async()=>{let t=await Promise.all(e.map(async e=>{try{let t=await c.x.get("/api/v1/llm-providers/".concat(e.id,"/usage"));if(t.error)return[e.id,{agents:0,crews:0}];return[e.id,{agents:t.data.agent_count||0,crews:t.data.crew_count||0}]}catch(t){return[e.id,{agents:0,crews:0}]}})),a={};for(let[e,s]of t)a[e]=s;z(a)};e.length&&t()},[e]);let W=async e=>{S(e);try{let t=await j(e);D(a=>({...a,[e]:{ok:!!t.success,message:t.message||(t.success?"OK":"Failed"),at:new Date().toLocaleTimeString()}}))}catch(t){D(a=>({...a,[e]:{ok:!1,message:(null==t?void 0:t.message)||"Failed",at:new Date().toLocaleTimeString()}}))}S(null)},U=async e=>{try{await y(e),await b()}catch(e){alert("Failed to set default: "+((null==e?void 0:e.message)||"Unknown error"))}},K=async e=>{if(confirm("Delete this provider? This action cannot be undone."))try{await f(e),await b()}catch(t){(null==t?void 0:t.status)===409?M(a=>({...a,[e]:(null==t?void 0:t.message)||"Provider has dependencies."})):alert("Failed to delete: "+((null==t?void 0:t.message)||"Unknown error"))}};return(0,s.jsx)(n.Z,{children:(0,s.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)(i.Z,{}),(0,s.jsx)("div",{className:"flex-1 overflow-auto",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"LLM Providers"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Manage and validate LLM provider credentials"})]}),(0,s.jsx)("button",{onClick:()=>k(!0),className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"New Provider"})]}),!t&&!a&&Object.keys(E).length>0&&(0,s.jsxs)("div",{className:"p-3 rounded border text-sm bg-gray-50",children:[(0,s.jsx)("div",{className:"font-medium mb-1",children:"Recent Tests"}),(0,s.jsx)("ul",{className:"list-disc ml-5 space-y-1",children:e.filter(e=>!!E[e.id]).map(e=>(0,s.jsxs)("li",{className:E[e.id].ok?"text-green-700":"text-red-700",children:[e.name,": ",E[e.id].ok?"OK":"Fail"," — ",E[e.id].message," (",E[e.id].at,")"]},e.id))})]}),t?(0,s.jsx)("div",{className:"py-12 text-center text-gray-500",children:"Loading…"}):a?(0,s.jsx)("div",{className:"py-12 text-center text-red-600",children:a}):(0,s.jsx)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 relative h-[70vh] overflow-y-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm table-fixed",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 sticky top-0 z-10",children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Name"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Type"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Model"}),(0,s.jsx)("th",{className:"px-6 py-2 text-left",children:"Default"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Active"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Last Test"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.map(e=>(0,s.jsxs)("tr",{className:"odd:bg-white dark:odd:bg-gray-900 even:bg-gray-50 dark:even:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("td",{className:"px-4 py-2 truncate max-w-[240px]",children:(0,s.jsx)(p,{content:e.name,children:(0,s.jsx)("span",{children:e.name})})}),(0,s.jsx)("td",{className:"px-4 py-2 capitalize whitespace-nowrap",children:(0,s.jsx)(p,{content:"Provider type: ".concat(e.provider_type),children:(0,s.jsx)("span",{children:e.provider_type})})}),(0,s.jsx)("td",{className:"px-4 py-2 pr-8 truncate max-w-[260px]",children:(0,s.jsx)(p,{content:e.model_name||"—",children:(0,s.jsx)("span",{children:e.model_name||"—"})})}),(0,s.jsx)("td",{className:"px-6 py-2","aria-label":e.is_default?"Default":"Not default",children:(0,s.jsx)(p,{content:e.is_default?"Default provider":"Not default",children:(0,s.jsx)("span",{className:"inline-flex items-center",children:(0,s.jsx)(v,{isDefault:e.is_default})})})}),(0,s.jsx)("td",{className:"px-4 py-2","aria-label":e.is_active?"Active":"Inactive",children:(0,s.jsx)(p,{content:e.is_active?"Active":"Inactive",children:(0,s.jsx)("span",{className:"inline-flex items-center",children:(0,s.jsx)(g,{isActive:e.is_active})})})}),(0,s.jsx)("td",{className:"px-4 py-2 text-sm",children:E[e.id]?(0,s.jsx)(p,{content:E[e.id].message,children:(0,s.jsxs)("span",{className:E[e.id].ok?"text-green-700":"text-red-700",children:[E[e.id].ok?"OK":"Fail"," \xb7 ",E[e.id].at]})}):(0,s.jsx)("span",{className:"text-gray-500",children:"—"})}),(0,s.jsx)("td",{className:"px-4 py-2",children:(0,s.jsxs)("div",{className:"relative inline-block text-left",children:[(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),B(O===e.id?null:e.id)},"aria-haspopup":"menu","aria-expanded":O===e.id,title:"Actions",className:"h-8 w-8 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:"⋮"}),O===e.id&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-44 origin-top-right rounded-md bg-white dark:bg-gray-900 shadow-lg ring-1 ring-black/5 dark:ring-white/10 z-50 border border-gray-200 dark:border-gray-700",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"py-1 text-sm",children:[(0,s.jsx)("button",{onClick:()=>{B(null),I(e)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-800",title:"Where used",children:"\uD83D\uDD0D Where used"}),(0,s.jsx)("button",{onClick:()=>{B(null),W(e.id)},disabled:L===e.id,className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-800 ".concat(L===e.id?"opacity-60 cursor-not-allowed":""),title:"Test",children:"\uD83E\uDDEA Test"}),(0,s.jsx)("button",{onClick:()=>{B(null),C(e)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-800",title:"Edit",children:"✏️ Edit"}),(0,s.jsx)("button",{onClick:()=>{B(null),T(e)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-800",title:"Reassign dependents",children:"\uD83D\uDD01 Reassign"}),!e.is_default&&(0,s.jsx)("button",{onClick:()=>{B(null),U(e.id)},className:"w-full px-3 py-2 text-left hover:bg-gray-50",title:"Set default",children:"⭐ Set default"}),(0,s.jsx)("button",{onClick:()=>{B(null),K(e.id)},disabled:!!A[e.id],className:"w-full px-3 py-2 text-left hover:bg-red-50 dark:hover:bg-red-900/20 ".concat(A[e.id]?"opacity-60 cursor-not-allowed":"text-red-700 dark:text-red-400"),title:A[e.id]||"Delete",children:"\uD83D\uDDD1️ Delete"})]})}),A[e.id]&&(0,s.jsx)("div",{className:"mt-1 text-xs text-amber-700",role:"note",children:A[e.id]})]})})]},e.id))})]})}),F&&(0,s.jsx)(N,{provider:F,counts:P[F.id]||{agents:0,crews:0},onClose:()=>I(null)}),w&&(0,s.jsx)(x,{onClose:()=>k(!1),onCreated:async e=>{k(!1),await b(),await W(e)}}),_&&(0,s.jsx)(h,{provider:_,onClose:()=>C(null),onUpdated:async()=>{C(null),await b()}}),R&&(0,s.jsx)(m,{source:R,providers:e,usage:P[R.id]||{agents:0,crews:0},onClose:()=>T(null),onDone:async()=>{T(null),M(e=>({...e,[R.id]:""})),await b()}})]})})]})})}function x(e){let{onClose:t,onCreated:a}=e,[l,n]=(0,r.useState)({name:"",provider_type:"openai",model_name:"",api_key:"",api_base:"",is_default:!1}),[i,d]=(0,r.useState)(!1),[o,u]=(0,r.useState)(null),x=async()=>{var e;d(!0),u(null);let t={...l};t.api_key||delete t.api_key,t.api_base||delete t.api_base;let s=await c.x.post("/api/v1/llm-providers",t);if(s.error){u(s.error),d(!1);return}a(((null===(e=s.data)||void 0===e?void 0:e.provider)||s.data).id)};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-[520px] p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Create LLM Provider"}),(0,s.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),o&&(0,s.jsx)("div",{className:"p-2 text-sm text-red-600 bg-red-50 rounded",children:o}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Name"}),(0,s.jsx)("input",{value:l.name,onChange:e=>n({...l,name:e.target.value}),className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Provider Type"}),(0,s.jsxs)("select",{value:l.provider_type,onChange:e=>n({...l,provider_type:e.target.value}),className:"mt-1 w-full border rounded px-3 py-2",children:[(0,s.jsx)("option",{value:"openai",children:"OpenAI"}),(0,s.jsx)("option",{value:"anthropic",children:"Anthropic"}),(0,s.jsx)("option",{value:"ollama",children:"Ollama"}),(0,s.jsx)("option",{value:"vllm",children:"vLLM"}),(0,s.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Model Name"}),(0,s.jsx)("input",{value:l.model_name,onChange:e=>n({...l,model_name:e.target.value}),placeholder:"e.g., gpt-4",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"API Key"}),(0,s.jsx)("input",{value:l.api_key,onChange:e=>n({...l,api_key:e.target.value}),placeholder:"sk-...",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"API Base URL"}),(0,s.jsx)("input",{value:l.api_base,onChange:e=>n({...l,api_base:e.target.value}),placeholder:"https://api.openai.com/v1",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:l.is_default,onChange:e=>n({...l,is_default:e.target.checked})}),"Set as default provider"]})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,s.jsx)("button",{onClick:t,className:"px-4 py-2 rounded border",children:"Cancel"}),(0,s.jsx)("button",{onClick:x,disabled:i,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:i?"Creating…":"Create"})]})]})})}function h(e){let{provider:t,onClose:a,onUpdated:l}=e,[n,i]=(0,r.useState)({name:t.name,provider_type:t.provider_type,model_name:t.model_name,api_key:"",api_base:t.api_base||"",is_default:t.is_default||!1,is_active:t.is_active}),[d,o]=(0,r.useState)(!1),[u,x]=(0,r.useState)(null),h=async()=>{o(!0),x(null);let e={...n};e.api_key||delete e.api_key,e.api_base||delete e.api_base;let a=await c.x.put("/api/v1/llm-providers/".concat(t.id),e);if(a.error){x(a.error),o(!1);return}l()};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-[520px] p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Edit LLM Provider"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),u&&(0,s.jsx)("div",{className:"p-2 text-sm text-red-600 bg-red-50 rounded",children:u}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Name"}),(0,s.jsx)("input",{value:n.name,onChange:e=>i({...n,name:e.target.value}),className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Provider Type"}),(0,s.jsxs)("select",{value:n.provider_type,onChange:e=>i({...n,provider_type:e.target.value}),className:"mt-1 w-full border rounded px-3 py-2",children:[(0,s.jsx)("option",{value:"openai",children:"OpenAI"}),(0,s.jsx)("option",{value:"anthropic",children:"Anthropic"}),(0,s.jsx)("option",{value:"ollama",children:"Ollama"}),(0,s.jsx)("option",{value:"vllm",children:"vLLM"}),(0,s.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Model Name"}),(0,s.jsx)("input",{value:n.model_name,onChange:e=>i({...n,model_name:e.target.value}),placeholder:"e.g., gpt-4",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"API Key (leave blank to keep)"}),(0,s.jsx)("input",{value:n.api_key,onChange:e=>i({...n,api_key:e.target.value}),placeholder:"sk-...",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"API Base URL"}),(0,s.jsx)("input",{value:n.api_base,onChange:e=>i({...n,api_base:e.target.value}),placeholder:"https://api.openai.com/v1",className:"mt-1 w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:n.is_default,onChange:e=>i({...n,is_default:e.target.checked})}),"Set as default provider"]}),(0,s.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:n.is_active,onChange:e=>i({...n,is_active:e.target.checked})}),"Active"]})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,s.jsx)("button",{onClick:a,className:"px-4 py-2 rounded border",children:"Cancel"}),(0,s.jsx)("button",{onClick:h,disabled:d,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:d?"Saving…":"Save"})]})]})})}function m(e){let{source:t,providers:a,usage:l,onClose:n,onDone:i}=e,{reassignDependents:d}=o(),[c,u]=(0,r.useState)(""),[x,h]=(0,r.useState)(l.agents>0),[m,p]=(0,r.useState)(l.crews>0),[v,g]=(0,r.useState)(!1),[f,j]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),N=async()=>{if(j(null),b(null),!c||c===t.id){j("Please select a different target provider.");return}if(!x&&!m){j("Select at least one dependent type to reassign.");return}g(!0);try{let e=x&&m?"all":x?"agents":"crews",a=await d(t.id,c,e);b("Reassigned agents: ".concat(a.agents_reassigned,", crews: ").concat(a.crews_reassigned)),setTimeout(i,800)}catch(e){j((null==e?void 0:e.message)||"Reassign failed")}finally{g(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-[520px] p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Reassign Dependents"}),(0,s.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Move agents and/or crews using ",(0,s.jsx)("strong",{children:t.name})," to another provider."]}),f&&(0,s.jsx)("div",{className:"p-2 text-sm text-red-600 bg-red-50 rounded",children:f}),y&&(0,s.jsx)("div",{className:"p-2 text-sm text-green-700 bg-green-50 rounded",children:y}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Target Provider"}),(0,s.jsxs)("select",{value:c,onChange:e=>u(e.target.value?Number(e.target.value):""),className:"mt-1 w-full border rounded px-3 py-2",children:[(0,s.jsx)("option",{value:"",children:"Select provider…"}),a.filter(e=>e.id!==t.id).map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (",e.provider_type,")"]},e.id))]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,s.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:x,onChange:e=>h(e.target.checked)}),"Agents (",l.agents,")"]}),(0,s.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:m,onChange:e=>p(e.target.checked)}),"Crews (",l.crews,")"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,s.jsx)("button",{onClick:n,className:"px-4 py-2 rounded border",children:"Cancel"}),(0,s.jsx)("button",{onClick:N,disabled:v,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:v?"Reassigning…":"Reassign"})]})]})})}function p(e){let{content:t,children:a}=e,n=(0,r.useRef)(null),[i,d]=(0,r.useState)(!1),[c,o]=(0,r.useState)({top:0,left:0}),u=()=>{if(!n.current)return;let e=n.current.getBoundingClientRect();o({top:Math.min(e.bottom+8,window.innerHeight-8),left:e.left+e.width/2})};return(0,r.useEffect)(()=>{if(!i)return;u();let e=()=>u(),t=()=>u();return window.addEventListener("scroll",e,!0),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",t)}},[i]),(0,s.jsxs)("span",{ref:n,className:"relative inline-flex align-middle",onMouseEnter:()=>{d(!0),u()},onMouseLeave:()=>d(!1),children:[a,i&&(0,l.createPortal)((0,s.jsx)("div",{className:"pointer-events-none fixed z-[9999] px-2 py-1 text-xs text-white bg-gray-900 rounded shadow whitespace-nowrap",style:{top:c.top,left:c.left,transform:"translateX(-50%)"},children:t}),document.body)]})}function v(e){let{isDefault:t}=e;return t?(0,s.jsx)(f,{className:"h-5 w-5 text-yellow-500"}):(0,s.jsx)(j,{className:"h-5 w-5 text-gray-400"})}function g(e){let{isActive:t}=e;return t?(0,s.jsx)(y,{className:"h-5 w-5 text-green-600"}):(0,s.jsx)(b,{className:"h-5 w-5 text-gray-400"})}function f(e){let{className:t=""}=e;return(0,s.jsx)("svg",{className:t,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.803 2.037a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.803-2.037a1 1 0 00-1.175 0l-2.803 2.037c-.785.57-1.84-.197-1.54-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})})}function j(e){let{className:t=""}=e;return(0,s.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})}function y(e){let{className:t=""}=e;return(0,s.jsx)("svg",{className:t,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414L9 13.414l4.707-4.707z",clipRule:"evenodd"})})}function b(e){let{className:t=""}=e;return(0,s.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,s.jsx)("line",{x1:"16",y1:"8",x2:"8",y2:"16"})]})}function N(e){let{provider:t,counts:a,onClose:r}=e;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:r,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-[520px] p-6 space-y-4",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Where used"}),(0,s.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Dependencies for ",(0,s.jsx)("strong",{children:t.name})," (",t.provider_type,")."]}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Agents"}),(0,s.jsx)("a",{href:"/crews?llm_provider_id=".concat(t.id),className:"text-blue-600 hover:underline",children:a.agents})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Crews (manager)"}),(0,s.jsx)("a",{href:"/crews?manager_llm_provider_id=".concat(t.id),className:"text-blue-600 hover:underline",children:a.crews})]})]}),(0,s.jsx)("div",{className:"flex gap-2 justify-end pt-2",children:(0,s.jsx)("button",{onClick:r,className:"px-4 py-2 rounded border",children:"Close"})})]})})}},9222:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var s=a(7437),r=a(1396),l=a.n(r),n=a(4033),i=a(2265);let d={"/dashboard":"Dashboard","/flows":"Flows","/crews":"Crews","/agents":"Agents","/tools":"Tools","/observability":"Observability","/chat":"Chat","/executions":"Executions","/settings":"Settings","/profile":"Profile"};function c(){let{breadcrumbs:e}=function(){let e=(0,n.usePathname)(),t=(0,i.useMemo)(()=>{if(!e)return[];let t=e.split("/").filter(Boolean),a=[];a.push({label:"Home",href:"/dashboard",isActive:"/dashboard"===e});let s="";return t.forEach((e,r)=>{s+="/".concat(e);let l=r===t.length-1;if(!isNaN(Number(e)))return;if("edit"===e){a.push({label:"Edit",href:s,isActive:l});return}let n=d[s]||e.charAt(0).toUpperCase()+e.slice(1);a.push({label:n,href:s,isActive:l})}),a},[e]),a=(0,i.useMemo)(()=>{if(!e)return"Home";let a=t[t.length-1];return(null==a?void 0:a.label)||"Home"},[e,t]);return{breadcrumbs:t,currentPage:a,pathname:e,isActive:t=>null==e?void 0:e.startsWith(t)}}();return e.length<=1?null:(0,s.jsx)("nav",{"aria-label":"Breadcrumb",className:"mb-4",children:(0,s.jsx)("ol",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:e.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center",children:[t>0&&(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mx-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.isActive?(0,s.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium","aria-current":"page",children:e.label}):(0,s.jsx)(l(),{href:e.href,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:e.label})]},e.href))})})}},1396:function(e,t,a){e.exports=a(5250)}},function(e){e.O(0,[311,279,67,971,458,744],function(){return e(e.s=9888)}),_N_E=e.O()}]);